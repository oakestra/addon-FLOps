\section{CLI}

While developing FLOps, we implemented several different pieces of code to automate tedious repetitive manual tasks.
We decided to share and offer these custom auxiliary scripts by combining them into a single CLI tool called OAK CLI \cite{cli_code}.
We have steadily improved it over this work, which resulted in various features.
Because of envisioned rapid future changes, we will not discuss concrete technical details but provide a broad overview of its capabilities.
We decided to discuss this CLI as part of this work because FLOps can be considered DevOps for FL, and DevOps also includes techniques to improve development workflows.
One way to support users and developers is to help them use the target application more conveniently, for example, via a CLI tool.
Notably, Oakestra has a custom early-stage work-in-progress GUI/Frontend dashboard application \cite{oakestra_dashboard} and a minimal CLI tool.
The OAK CLI is independent of both these components and replaced the legacy Oakestra CLI tool.

We carefully considered what libraries to use for this CLI to be flexible and easily extendible.
The OAK CLI initially used Python's argparse \cite{python_argparse} and argcomplete \cite{python_argcomplete}.
Argparse is an established feature-rich standard library.
Its downside is that it requires a lot of boilerplate code, especially when the argument structure is a complex nested hierarchy.
Argcomplete enables auto-/tab-completions of CLI commands.
Enabling this functionality in a pure Python tool can be tricky and require specific workarounds.
OAK CLI now uses Typer \cite{typer}.
Typer requires minimal decorator augmentations to enable CLI applications.
This is possible because Typer smartly utilizes available Python-type hints in function signatures.
It automatically comes with auto/tab completion and includes highly readable, pretty UI features powered by Rich \cite{rich}.
Rich is a prominent library for Python terminal formatting.
Typer is built on top of Click \cite{click}, one of the most popular Python CLI frameworks.
The downside of Typer is that it is still in relatively early development.
It lacks a first major release version.
It has some minor cutbacks compared to argparse, but discussing those would bloat this work.

We were motivated to create this CLI to alleviate the following challenges.
FLOps does not offer a tool besides the OAK CLI to interact conveniently with its API.
External tools like Postman are necessary to do so.
Oakestra components need to be prepared and launched manually.
Interacting with its API is possible via external tools or its early-stage dashboard.
We needed to work on several devices while developing FLOps, especially its HFL features.
Each machine must be appropriately configured and set up to enable Oakestra workloads.
This setup included installing dependencies such as Docker, Golang, and other custom aliases and scripts to launch, clear, and restart Oakestra components.
In addition, developing and observing FLOps was heavily bound to the observatory features provided by Oakestra's dashboard application.
Accessing and working with this dashboard was cumbersome even during local development on a single machine because of repetitive click-based tasks such as mandatory logins.
We automated this by creating auto-clicker scripts via Selenium.
Accessing this flaky dashboard on remote devices behind firewalls required even more manual steps, such as code modifications and multiple SSH tunnels.
We only required the dashboard to get an overview of the deployed application and services and their statuses and logs.
The OAK CLI satisfies these needs on its own, thus bypassing our need for the dashboard while automating manual steps.
As a result, this CLI significantly accelerates the development and usage of FLOps and Oakestra.

\input{chapters/implementation_details/sections/cli/subsections/cli_requirements.tex}

\input{chapters/implementation_details/sections/cli/subsections/cli_features.tex}

\input{chapters/implementation_details/sections/cli/subsections/cli_showcase.tex}
